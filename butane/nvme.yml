variant: fcos
version: 1.6.0

storage:
  disks:
    - device: /dev/nvme0n1
      wipe_table: true
      partitions:
        - label: EFI
          size_mib: 600
          type_guid: c12a7328-f81f-11d2-ba4b-00a0c93ec93b
        - label: ignite
          size_mib: 1024
        - label: hearth
          size_mib: 0

  luks:
    - name: hearth_crypt
      device: /dev/disk/by-partlabel/hearth
      wipe_volume: true
      clevis:
        tpm2: true

  filesystems:
    - path: /
      device: /dev/mapper/hearth_crypt
      format: btrfs
      mount_options:
        - compress=zstd
        - noatime

    - path: /boot
      device: /dev/disk/by-partlabel/ignite
      format: ext4

    - path: /boot/efi
      device: /dev/disk/by-partlabel/EFI
      format: vfat
