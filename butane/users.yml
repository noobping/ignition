variant: fcos
version: 1.6.0

passwd:
  users:
    - name: nobody
      system: true
    - name: apps
      uid: 1011
      home_dir: /var/apps
      shell: /usr/bin/nologin
    - name: steam
      uid: 1012
      home_dir: /var/games/steam
      shell: /usr/bin/nologin
    - name: minecraft
      uid: 1013
      home_dir: /var/games/minecraft
      shell: /usr/bin/nologin
    - name: docs
      uid: 1014
      home_dir: /var/docs
      shell: /usr/bin/nologin
      groups: [apps]
    - name: music
      uid: 1015
      home_dir: /var/music
      shell: /usr/bin/nologin
      groups: [apps]
    - name: git
      uid: 1016
      home_dir: /var/git
      shell: /usr/bin/nologin
      groups: [apps]
    - name: nick
      uid: 1000
      groups: 
        - wheel
        - git
        - docs
        - music
        - apps
      ssh_authorized_keys:
        - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEjRfPMkXzhO4unF0mEOHge+wGAE9VarXYo7RRXX2L3j
        - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIBgtZmKuTJY2z88tCrtexFTPmXGA6oR1m4XQVn8ZLzmj

storage:
  directories:
    - path: /var/games/minecraft/bedrock
      user:
        name: minecraft
      group:
        name: minecraft
    - path: /var/games/minecraft/java
      user:
        name: minecraft
      group:
        name: minecraft
    - path: /var/music/touhou
      user:
        name: music
      group:
        name: music
    - path: /var/videos
      user:
        name: music
      group:
        name: music
    - path: /var/photos
      user:
        name: music
      group:
        name: music

    - path: /var/home/nick/.bashrc.d
      mode: 0755
      user:
        name: nick
      group:
        name: nick
  files:
    - path: /var/home/nick/.bashrc.d/git
      mode: 0755
      user:
        name: nick
      group:
        name: nick
      contents:
        local: ./aliases/git
    - path: /var/home/nick/.bashrc.d/pass
      mode: 0755
      user:
        name: nick
      group:
        name: nick
      contents:
        local: ./aliases/pass
    - path: /etc/sudoers.d/nick
      mode: 0440
      contents:
        inline: |
          nick ALL=(ALL) NOPASSWD:ALL

systemd:
  units:
    - name: sshd.service
      enabled: true
