[Unit]
Description=Podman - Steam Remote Play
After=local-fs.target
Requires=local-fs.target
RequiresMountsFor=/var/apps/steam
ConditionPathExists=/var/apps/steam/data
ConditionPathExists=/var/apps/steam/local

[Container]
Image=ghcr.io/noobping/steamamd:latest
AutoUpdate=registry
RunInit=true
NoNewPrivileges=true
SeccompProfile=unconfined
SecurityLabelDisable=true
Tmpfs=/run
Tmpfs=/tmp
ShmSize=4g
AddDevice=/dev/dri
Volume=/var/apps/steam/data:/data/.steam:Z
Volume=/var/apps/steam/local:/data/.local/share/Steam:Z
PublishPort=5900:5900/tcp
PublishPort=27031-27036:27031-27036/udp
PublishPort=27036:27036/tcp

[Service]
User=apps

[Install]
WantedBy=multi-user.target
